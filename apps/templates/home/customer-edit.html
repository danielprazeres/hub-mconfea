{% extends "layouts/base.html" %}

{% block title %} Editar Cliente {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

  <div class="content">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <h5 class="title">Editar Cliente</h5>
            <div class="float-right">
              <a href="{{ url_for('authentication_blueprint.customer_details', id=customer.id) }}" class="btn btn-default btn-sm">Voltar</a>
            </div>
          </div>

          <div class="card-body">
            <form method="post" action="{{ url_for('authentication_blueprint.customer_edit', id=customer.id) }}">
              <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

              <div class="row">
                <div class="col-md-12">
                  <h6 class="text-primary">Identificação Fiscal</h6>
                  <hr>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label>Nome/Razão Social</label>
                    <input type="text" class="form-control" name="nome_razao_social" value="{{ customer.nome_razao_social }}" required>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group">
                    <label>NIF</label>
                    <input type="text" class="form-control" name="nif" value="{{ customer.nif }}" required>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group">
                    <label>Tipo de Cliente</label>
                    <select class="form-control" name="tipo_cliente" required>
                      <option value="singular" {% if customer.tipo_cliente == 'singular' %}selected{% endif %}>Pessoa Singular</option>
                      <option value="coletiva" {% if customer.tipo_cliente == 'coletiva' %}selected{% endif %}>Pessoa Coletiva</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="row mt-4">
                <div class="col-md-12">
                  <h6 class="text-primary">Endereço Fiscal</h6>
                  <hr>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label>Rua</label>
                    <input type="text" class="form-control" name="rua" value="{{ customer.rua }}" required>
                  </div>
                </div>
                <div class="col-md-2">
                  <div class="form-group">
                    <label>Número</label>
                    <input type="text" class="form-control" name="numero" value="{{ customer.numero }}" required>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Complemento</label>
                    <input type="text" class="form-control" name="complemento" value="{{ customer.complemento }}">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <div class="form-group">
                    <label>Código Postal</label>
                    <input type="text" class="form-control" name="codigo_postal" value="{{ customer.codigo_postal }}" required>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group">
                    <label>Localidade</label>
                    <input type="text" class="form-control" name="localidade" value="{{ customer.localidade }}" required>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group">
                    <label>Concelho</label>
                    <input type="text" class="form-control" name="concelho" value="{{ customer.concelho }}" required>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group">
                    <label>Distrito</label>
                    <input type="text" class="form-control" name="distrito" value="{{ customer.distrito }}" required>
                  </div>
                </div>
              </div>

              <div class="row mt-4">
                <div class="col-md-12">
                  <h6 class="text-primary">Informações de Contato</h6>
                  <hr>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Telefone</label>
                    <input type="text" class="form-control" name="telefone" value="{{ customer.telefone }}" required>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Email</label>
                    <input type="email" class="form-control" name="email" value="{{ customer.email }}" required>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Pessoa de Contato</label>
                    <input type="text" class="form-control" name="pessoa_contato" value="{{ customer.pessoa_contato }}">
                  </div>
                </div>
              </div>

              {% if customer.tipo_cliente == 'coletiva' %}
                <div class="row mt-4">
                  <div class="col-md-12">
                    <h6 class="text-primary">Dados Empresariais</h6>
                    <hr>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Razão Social</label>
                      <input type="text" class="form-control" name="razao_social" value="{{ customer.razao_social }}" required>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>CAE</label>
                      <input type="text" class="form-control" name="cae" value="{{ customer.cae }}" required>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>NIPC</label>
                      <input type="text" class="form-control" name="nipc" value="{{ customer.nipc }}" required>
                    </div>
                  </div>
                </div>
              {% endif %}

              <div class="row mt-4">
                <div class="col-md-12">
                  <h6 class="text-primary">Informações de Faturamento</h6>
                  <hr>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label>IBAN</label>
                    <input type="text" class="form-control" name="iban" value="{{ customer.iban }}" required>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Método de Pagamento</label>
                    <select class="form-control" name="metodo_pagamento" required>
                      <option value="transferencia" {% if customer.metodo_pagamento == 'transferencia' %}selected{% endif %}>Transferência</option>
                      <option value="dinheiro" {% if customer.metodo_pagamento == 'dinheiro' %}selected{% endif %}>Dinheiro</option>
                      <option value="cartao" {% if customer.metodo_pagamento == 'cartao' %}selected{% endif %}>Cartão</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Condições de Pagamento</label>
                    <select class="form-control" name="condicoes_pagamento" required>
                      <option value="imediato" {% if customer.condicoes_pagamento == 'imediato' %}selected{% endif %}>Imediato</option>
                      <option value="30dias" {% if customer.condicoes_pagamento == '30dias' %}selected{% endif %}>30 Dias</option>
                      <option value="60dias" {% if customer.condicoes_pagamento == '60dias' %}selected{% endif %}>60 Dias</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="row mt-4">
                <div class="col-md-12">
                  <h6 class="text-primary">Outras Informações</h6>
                  <hr>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group">
                    <label>Observações</label>
                    <textarea class="form-control" name="observacoes" rows="3">{{ customer.observacoes }}</textarea>
                  </div>
                </div>
              </div>

              <div class="row mt-4">
                <div class="col-md-12">
                  <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %} 